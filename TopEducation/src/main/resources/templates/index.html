<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head> 
    <title>My Web App</title> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

    <div class="container-sm">
		<a th:href ="@{/new}" class ="btn btn-primary"> Nuevo</a>
		<a th:href ="@{/listar}" class ="btn btn-primary"> Volver</a>

		<br> <br>
    	<table class="table">
    		<thead class="thead-dark">
    			<tr>
	    			<th>ID</th>
					<th>RUT</th>
	    			<th>Nombres</th>
	    			<th>Apellidos</th>
					<th>Colegio</th>
					<th>Tipo de Colegio</th>
					<th>Fecha de Nacimiento</th>
					<th>Fecha de Egreso</th>

    			</tr>
    		</thead>
    		<tbody>
    			<tr th:each="usuario:${usuarios}">
					<td th:text="${usuario.id}"></td>
    				<td th:text="${usuario.rut}"></td>
    				<td th:text="${usuario.nombres}"></td>
    				<td th:text="${usuario.apellidos}"></td>
					<td th:text="${usuario.nombreColegio}"></td>
					<td th:text="${usuario.tipoColegio}"></td>
					<td th:text="${usuario.fechaNacimiento}"></td>
					<td th:text="${usuario.fechaEgreso}"></td>
					<td th:if="${usuario.getPuntajes() != null }">
					<a  th:href="@{'/resumen/' + ${usuario.rut}}" class="btn btn-primary" role="button">Resumen</a>
				</td>
    				<td>
    					<a  th:href="@{/editar/}+${usuario.id}" class="btn btn-primary" role="button">Editar</a>
    					<a  th:href="@{/eliminar/}+${usuario.id}" class="btn btn-danger" role="button">Eliminar</a>
						<a  th:href="@{'/generarPagos/' + ${usuario.id} + '/' + Cuotas}" class="btn btn-primary" role="button">Pago en Cuotas</a>
						<a  th:href="@{'/generarPagos/' + ${usuario.id} + '/' + Contado}" class="btn btn-primary" role="button">Pago al Contado</a>
						<a  th:href="@{'/listarPagosRut/' + ${usuario.rut}}" class="btn btn-primary" role="button">Ver Pagos</a>
					</td>
    			</tr>
    		</tbody>
    	</table>
    </div>

</body>
</html>